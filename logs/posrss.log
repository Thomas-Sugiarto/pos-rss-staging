2025-10-21 00:51:20,854 INFO: POS RSS startup [in E:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 00:52:10,068 INFO: POS RSS startup [in E:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 00:52:29,138 INFO: POS RSS startup [in E:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 00:53:48,612 INFO: POS RSS startup [in e:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 00:53:55,445 INFO: POS RSS startup [in e:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 00:54:55,694 ERROR: Error updating raw material: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "raw_materials_sku_key"
DETAIL:  Key (sku)=() already exists.

[SQL: UPDATE raw_materials SET description=%(description)s, sku=%(sku)s, stock_quantity=%(stock_quantity)s, updated_at=%(updated_at)s WHERE raw_materials.id = %(raw_materials_id)s]
[parameters: {'description': '', 'sku': '', 'stock_quantity': 1.5, 'updated_at': datetime.datetime(2025, 10, 20, 17, 54, 55, 640370), 'raw_materials_id': '12e42178-1974-4281-a90e-4f47b4f8445e'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) [in e:\KreasiX\kreasiPOS\app\services\raw_material_service.py:126]
2025-10-21 00:54:55,695 ERROR: Error updating raw material: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "raw_materials_sku_key"
DETAIL:  Key (sku)=() already exists.

[SQL: UPDATE raw_materials SET description=%(description)s, sku=%(sku)s, stock_quantity=%(stock_quantity)s, updated_at=%(updated_at)s WHERE raw_materials.id = %(raw_materials_id)s]
[parameters: {'description': '', 'sku': '', 'stock_quantity': 1.5, 'updated_at': datetime.datetime(2025, 10, 20, 17, 54, 55, 640370), 'raw_materials_id': '12e42178-1974-4281-a90e-4f47b4f8445e'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) [in e:\KreasiX\kreasiPOS\app\raw_materials\routes.py:144]
2025-10-21 00:55:08,151 INFO: Raw material updated: Kapal Api (ID: 12e42178-1974-4281-a90e-4f47b4f8445e) [in e:\KreasiX\kreasiPOS\app\services\raw_material_service.py:117]
2025-10-21 00:56:00,640 INFO: Received 0 BOM items for edit: [] [in e:\KreasiX\kreasiPOS\app\bom\routes.py:216]
2025-10-21 00:56:20,828 INFO: Received 0 BOM items for edit: [] [in e:\KreasiX\kreasiPOS\app\bom\routes.py:216]
2025-10-21 00:56:49,652 INFO: Received 2 BOM items: [{'raw_material_id': '6622fe6d-fa89-416e-882c-e15164028ab0', 'quantity': 0.2, 'unit': 'g', 'notes': ''}, {'raw_material_id': '12e42178-1974-4281-a90e-4f47b4f8445e', 'quantity': 0.5, 'unit': 'kg', 'notes': ''}] [in e:\KreasiX\kreasiPOS\app\bom\routes.py:89]
2025-10-21 00:56:49,683 INFO: Created BOM item: {'raw_material_id': '6622fe6d-fa89-416e-882c-e15164028ab0', 'quantity': 0.2, 'unit': 'g', 'notes': ''} [in e:\KreasiX\kreasiPOS\app\bom\routes.py:118]
2025-10-21 00:56:49,683 INFO: Created BOM item: {'raw_material_id': '12e42178-1974-4281-a90e-4f47b4f8445e', 'quantity': 0.5, 'unit': 'kg', 'notes': ''} [in e:\KreasiX\kreasiPOS\app\bom\routes.py:118]
2025-10-21 00:57:07,199 INFO: Received sale data: {'items': [{'product_id': 'f53e9c4e-69a5-4165-8e85-0dba89420db7', 'product_name': 'Kopi Pinggir Jalan', 'quantity': 1, 'unit_price': 10000, 'total_price': 10000, 'requires_stock_tracking': False, 'has_bom': False, 'stock_quantity': 0}], 'total_amount': 10000, 'tax_amount': 0, 'discount_amount': 0, 'payment_method': 'transfer', 'customer_id': None, 'notes': '', 'cash_amount': 0, 'change_amount': 0} [in e:\KreasiX\kreasiPOS\app\sales\routes.py:96]
2025-10-21 01:03:59,380 INFO: POS RSS startup [in e:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 01:04:18,321 INFO: POS RSS startup [in e:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 01:05:37,782 INFO: POS RSS startup [in e:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 01:06:25,773 INFO: POS RSS startup [in E:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 01:06:46,879 INFO: POS RSS startup [in E:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 01:07:09,550 INFO: POS RSS startup [in e:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 01:07:16,601 INFO: POS RSS startup [in e:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 01:07:48,686 INFO: Received 2 BOM items: [{'raw_material_id': '12e42178-1974-4281-a90e-4f47b4f8445e', 'quantity': 0.2, 'unit': 'kg', 'notes': ''}, {'raw_material_id': '6622fe6d-fa89-416e-882c-e15164028ab0', 'quantity': 0.1, 'unit': 'g', 'notes': ''}] [in e:\KreasiX\kreasiPOS\app\bom\routes.py:89]
2025-10-21 01:07:48,719 INFO: Created BOM item: {'raw_material_id': '12e42178-1974-4281-a90e-4f47b4f8445e', 'quantity': 0.2, 'unit': 'kg', 'notes': ''} [in e:\KreasiX\kreasiPOS\app\bom\routes.py:118]
2025-10-21 01:07:48,719 INFO: Created BOM item: {'raw_material_id': '6622fe6d-fa89-416e-882c-e15164028ab0', 'quantity': 0.1, 'unit': 'g', 'notes': ''} [in e:\KreasiX\kreasiPOS\app\bom\routes.py:118]
2025-10-21 01:08:02,544 INFO: Loading BOM f8669195-e74a-4dac-a86a-f3fb5b8320fb with 2 items for edit [in e:\KreasiX\kreasiPOS\app\bom\routes.py:196]
2025-10-21 01:08:13,512 INFO: Received 0 BOM items for edit: [] [in e:\KreasiX\kreasiPOS\app\bom\routes.py:231]
2025-10-21 01:09:35,628 INFO: Received sale data: {'items': [{'product_id': 'f53e9c4e-69a5-4165-8e85-0dba89420db7', 'product_name': 'Kopi Pinggir Jalan', 'quantity': 1, 'unit_price': 10000, 'total_price': 10000, 'requires_stock_tracking': False, 'has_bom': True, 'stock_quantity': 0}], 'total_amount': 10000, 'tax_amount': 0, 'discount_amount': 0, 'payment_method': 'card', 'customer_id': None, 'notes': '', 'cash_amount': 0, 'change_amount': 0} [in e:\KreasiX\kreasiPOS\app\sales\routes.py:96]
2025-10-21 01:09:35,840 INFO: Processing BOM deduction for Kopi Pinggir Jalan, quantity: 1 [in e:\KreasiX\kreasiPOS\app\sales\routes.py:180]
2025-10-21 01:09:35,899 INFO: Processing BOM deduction for product Kopi Pinggir Jalan, quantity: 1 [in e:\KreasiX\kreasiPOS\app\models.py:304]
2025-10-21 01:09:35,960 INFO:   - Kapal Api: BOM qty 0.2 x Product qty 1 = Required 0.2 [in e:\KreasiX\kreasiPOS\app\models.py:316]
2025-10-21 01:09:35,960 INFO:     Current stock: 1.5 [in e:\KreasiX\kreasiPOS\app\models.py:317]
2025-10-21 01:09:35,961 INFO:     New stock: 1.3 [in e:\KreasiX\kreasiPOS\app\models.py:328]
2025-10-21 01:09:36,025 INFO:   - Gula Batu: BOM qty 0.1 x Product qty 1 = Required 0.1 [in e:\KreasiX\kreasiPOS\app\models.py:316]
2025-10-21 01:09:36,025 INFO:     Current stock: 992.0 [in e:\KreasiX\kreasiPOS\app\models.py:317]
2025-10-21 01:09:36,026 INFO:     New stock: 991.9 [in e:\KreasiX\kreasiPOS\app\models.py:328]
2025-10-21 01:09:36,026 INFO: BOM deduction completed for Kopi Pinggir Jalan [in e:\KreasiX\kreasiPOS\app\sales\routes.py:184]
2025-10-21 01:12:17,469 INFO: POS RSS startup [in e:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 01:12:31,528 INFO: POS RSS startup [in e:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 01:19:39,109 INFO: POS RSS startup [in e:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 01:19:45,869 INFO: POS RSS startup [in e:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 01:23:42,470 INFO: POS RSS startup [in e:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 01:27:17,856 INFO: POS RSS startup [in e:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 01:30:15,948 INFO: POS RSS startup [in e:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 01:33:32,938 INFO: POS RSS startup [in e:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 01:35:10,564 INFO: Received sale data: {'items': [{'product_id': 'f53e9c4e-69a5-4165-8e85-0dba89420db7', 'product_name': 'Kopi Pinggir Jalan', 'quantity': 2, 'unit_price': 10000, 'total_price': 20000, 'requires_stock_tracking': False, 'has_bom': True, 'stock_quantity': 0}], 'total_amount': 20000, 'tax_amount': 0, 'discount_amount': 0, 'payment_method': 'transfer', 'customer_id': None, 'notes': '', 'cash_amount': 0, 'change_amount': 0} [in e:\KreasiX\kreasiPOS\app\sales\routes.py:96]
2025-10-21 01:35:10,837 INFO: Processing BOM deduction for Kopi Pinggir Jalan, quantity: 2 [in e:\KreasiX\kreasiPOS\app\sales\routes.py:180]
2025-10-21 01:35:10,895 INFO: Processing BOM deduction for product Kopi Pinggir Jalan, quantity: 2 [in e:\KreasiX\kreasiPOS\app\models.py:304]
2025-10-21 01:35:10,953 INFO:   - Kapal Api: BOM qty 0.2 x Product qty 2 = Required 0.4 [in e:\KreasiX\kreasiPOS\app\models.py:316]
2025-10-21 01:35:10,954 INFO:     Current stock: 1.3 [in e:\KreasiX\kreasiPOS\app\models.py:317]
2025-10-21 01:35:10,954 INFO:     New stock: 0.9 [in e:\KreasiX\kreasiPOS\app\models.py:328]
2025-10-21 01:35:11,013 INFO:   - Gula Batu: BOM qty 0.1 x Product qty 2 = Required 0.2 [in e:\KreasiX\kreasiPOS\app\models.py:316]
2025-10-21 01:35:11,014 INFO:     Current stock: 991.9 [in e:\KreasiX\kreasiPOS\app\models.py:317]
2025-10-21 01:35:11,014 INFO:     New stock: 991.7 [in e:\KreasiX\kreasiPOS\app\models.py:328]
2025-10-21 01:35:11,015 INFO: BOM deduction completed for Kopi Pinggir Jalan [in e:\KreasiX\kreasiPOS\app\sales\routes.py:184]
2025-10-21 01:39:04,946 INFO: POS RSS startup [in e:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 01:45:38,865 INFO: POS RSS startup [in e:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 01:45:56,833 INFO: POS RSS startup [in e:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 01:46:07,182 INFO: POS RSS startup [in e:\KreasiX\kreasiPOS\app\__init__.py:114]
2025-10-21 01:48:03,598 INFO: Received sale data: {'items': [{'product_id': 'f53e9c4e-69a5-4165-8e85-0dba89420db7', 'product_name': 'Kopi Pinggir Jalan', 'quantity': 1, 'unit_price': 10000, 'total_price': 10000, 'requires_stock_tracking': False, 'has_bom': True, 'stock_quantity': 0}], 'total_amount': 10000, 'tax_amount': 0, 'discount_amount': 0, 'payment_method': 'transfer', 'customer_id': None, 'notes': '', 'cash_amount': 0, 'change_amount': 0} [in e:\KreasiX\kreasiPOS\app\sales\routes.py:96]
2025-10-21 01:48:03,824 INFO: Processing BOM deduction for Kopi Pinggir Jalan, quantity: 1 [in e:\KreasiX\kreasiPOS\app\sales\routes.py:180]
2025-10-21 01:48:03,895 INFO: Processing BOM deduction for product Kopi Pinggir Jalan, quantity: 1 [in e:\KreasiX\kreasiPOS\app\models.py:304]
